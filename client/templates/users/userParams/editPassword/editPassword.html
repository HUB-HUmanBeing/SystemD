<template name="editPassword">

    {{#if updatePasswordComplete}}
        <div class="small-padding">{{>encryptionLoader tasks=updatePasswordComplete}}</div>

    {{else}}
    <form action="#" id="editPasswordForm">
        <div class="row no-margin">
            <div class="input-field col s12 relative">
                <i class="material-icons prefix  main-color">security</i>
                <input id="oldPassword" type="password"
                       class=" {{#if compare errors.oldPassword '==' 'valid'}}valid {{else }}{{#if
                               errors.oldPassword.length}}invalid{{/if}}{{/if}}">
                <label for="oldPassword">{{__ '.oldPassword'}}</label>
                <div class="formErrorContainer">
                    {{#if isArray  errors.oldPassword}}
                        {{#each error in errors.oldPassword}}
                            <div class="formError danger-color">
                                {{error}}
                            </div>
                        {{/each}}
                    {{/if}}
                </div>

            </div>
        </div>
        <div class="flex">
            <div class="flex-auto">
                <div class="row no-margin">
                    <div class="input-field col s12">
                        <i class="material-icons prefix main-color">security</i>
                        <input id="newPassword" type="password"
                               class=" {{#if compare errors.newPassword '==' 'valid'}}valid {{else }}{{#if
                                       errors.newPassword.length}}invalid{{/if}}{{/if}}">
                        <label for="newPassword">{{__ '.newPassword'}}</label>
                        <div class="formErrorContainer">
                            {{#if isArray errors.newPassword}}
                                {{#each error in errors.newPassword}}
                                    <div class="formError danger-color">
                                        {{error}}
                                    </div>
                                {{/each}}
                            {{/if}}
                        </div>
                    </div>
                </div>
                <div class="row no-margin">
                    <div class="input-field col s12">
                        <i class="material-icons prefix  main-color">verified_user</i>
                        <input id="newPasswordRepeat" type="password"
                               class=" {{#if compare errors.newPasswordRepeat '==' 'valid'}}valid {{else }}{{#if
                                       errors.newPasswordRepeat.length}}invalid{{/if}}{{/if}}">
                        <label for="newPasswordRepeat">{{__ '.repeatPassword'}}</label>
                        <div class="formErrorContainer">
                            {{#if isArray  errors.newPasswordRepeat}}
                                {{#each error in errors.newPasswordRepeat}}
                                    <div class="formError danger-color">
                                        {{error}}
                                    </div>
                                {{/each}}
                            {{/if}}
                        </div>
                    </div>
                </div>
            </div>
            {{#if passwordStrength.strength}}
                <div class="circle-container  tooltipped"
                     style=" {{#if isPhone}}width: 60px; padding-top: 40px {{else}}width: 100px ; padding:20px;{{/if}}">
                    <p class="center-align  minus-color " style="font-size: 1em ; margin: 0">{{__ '.strength'}} :</p>
                    <div class="center-align  progress--circle progress--{{passwordStrength.progress}}"
                         style="margin: 5px 0px !important;">
                        <div class="progress__number {{#if compare passwordStrength.strength '>='
                                                           10}} green-text text-darken-2 strong{{else}}red-text text-darken-2{{/if}}">{{passwordStrength.strength}}
                            /10
                        </div>
                    </div>
                    <!--<p  class="center-align no-margin"><b class="focus-color">minimum : 10</b></p>-->
                </div>
            {{/if}}
        </div>

        <div class="row center-align" style="margin: 15px 0 0 0">
            <button href="#" class="btn btnFocus center-align waves-effect waves-light shadow"><i
                    class="material-icons right">account_circle</i>{{__ '.editPassword'}}
            </button>
        </div>
    </form>
{{/if}}
</template>
